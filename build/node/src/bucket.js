"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.streamObject = exports.putObject = exports.putBucketWebsite = exports.putBucketRedirect = exports.putBucketPolicy = exports.putBucketLifecycle = exports.putBucket = exports.listObjects = exports.headObject = exports.hasObject = exports.hasBucket = exports.getObject = exports.getBucketLifecycle = exports.getBucketARN = exports.emptyBucket = exports.deleteObjects = exports.deleteObject = exports.deleteDirectory = exports.deleteBucketWebsite = exports.deleteBucketPolicy = exports.deleteBucketLifecycle = exports.deleteBucket = void 0;
var S3 = _interopRequireWildcard(require("@aws-sdk/client-s3"));
var _helpers = require("./helpers.js");
var _generic = require("@dashkite/joy/generic");
var _type = require("@dashkite/joy/type");
function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }
function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }
var AWS, deleteBucket, deleteBucketLifecycle, deleteBucketPolicy, deleteBucketWebsite, deleteDirectory, deleteObject, deleteObjects, emptyBucket, getBucketARN, getBucketLifecycle, getObject, hasBucket, hasObject, headObject, isS3Object, listObjects, putBucket, putBucketLifecycle, putBucketPolicy, putBucketRedirect, putBucketWebsite, putObject, rescueNotFound, streamObject;
exports.streamObject = streamObject;
exports.putObject = putObject;
exports.putBucketWebsite = putBucketWebsite;
exports.putBucketRedirect = putBucketRedirect;
exports.putBucketPolicy = putBucketPolicy;
exports.putBucketLifecycle = putBucketLifecycle;
exports.putBucket = putBucket;
exports.listObjects = listObjects;
exports.headObject = headObject;
exports.hasObject = hasObject;
exports.hasBucket = hasBucket;
exports.getObject = getObject;
exports.getBucketLifecycle = getBucketLifecycle;
exports.getBucketARN = getBucketARN;
exports.emptyBucket = emptyBucket;
exports.deleteObjects = deleteObjects;
exports.deleteObject = deleteObject;
exports.deleteDirectory = deleteDirectory;
exports.deleteBucketWebsite = deleteBucketWebsite;
exports.deleteBucketPolicy = deleteBucketPolicy;
exports.deleteBucketLifecycle = deleteBucketLifecycle;
exports.deleteBucket = deleteBucket;
AWS = {
  S3: (0, _helpers.lift)(S3)
};
rescueNotFound = function (error) {
  var code, ref, ref1;
  code = (ref = error != null ? (ref1 = error.$response) != null ? ref1.statusCode : void 0 : void 0) != null ? ref : error.$metadata.httpStatusCode;
  if (!(code === 403 || code === 404)) {
    throw error;
  }
};
exports.hasBucket = hasBucket = async function (name) {
  var error;
  try {
    await AWS.S3.headBucket({
      Bucket: name
    });
    return true;
  } catch (error1) {
    error = error1;
    console.error(error);
    rescueNotFound(error);
    return false;
  }
};
exports.getBucketARN = getBucketARN = function (name) {
  return `arn:aws:s3:::${name}`;
};
exports.putBucket = putBucket = async function (name) {
  if (!(await hasBucket(name))) {
    return await AWS.S3.createBucket({
      Bucket: name
    });
  }
};
exports.deleteBucket = deleteBucket = async function (name) {
  if (await hasBucket(name)) {
    return await AWS.S3.deleteBucket({
      Bucket: name
    });
  }
};
exports.getBucketLifecycle = getBucketLifecycle = async function (name) {
  return await AWS.S3.getBucketLifecycleConfiguration({
    Bucket: name
  });
};
exports.putBucketLifecycle = putBucketLifecycle = async function (name, lifecycle) {
  return await AWS.S3.putBucketLifecycleConfiguration({
    Bucket: name,
    LifecycleConfiguration: lifecycle
  });
};
exports.deleteBucketLifecycle = deleteBucketLifecycle = async function (name) {
  return await AWS.S3.deleteBucketLifecycle({
    Bucket: name
  });
};
exports.putBucketPolicy = putBucketPolicy = function (name, policy) {
  return AWS.S3.putBucketPolicy({
    Bucket: name,
    Policy: JSON.stringify(policy)
  });
};
exports.deleteBucketPolicy = deleteBucketPolicy = function (name) {
  return AWS.S3.deleteBucketPolicy({
    Bucket: name
  });
};
exports.putBucketWebsite = putBucketWebsite = function (name, {
  index,
  error
}) {
  return AWS.S3.putBucketWebsite({
    Bucket: name,
    WebsiteConfiguration: {
      IndexDocument: {
        Suffix: index
      },
      ErrorDocument: {
        Key: error
      }
    }
  });
};
exports.putBucketRedirect = putBucketRedirect = function (name, target) {
  return AWS.S3.putBucketWebsite({
    Bucket: name,
    WebsiteConfiguration: {
      RedirectAllRequestsTo: {
        HostName: target
      }
    }
  });
};
exports.deleteBucketWebsite = deleteBucketWebsite = function (name) {
  return AWS.S3.deleteBucketWebsite({
    Bucket: name
  });
};
exports.headObject = headObject = async function (name, key) {
  var error;
  try {
    return await AWS.S3.headObject({
      Bucket: name,
      Key: key
    });
  } catch (error1) {
    error = error1;
    rescueNotFound(error);
    return null;
  }
};
exports.hasObject = hasObject = async function (name, key) {
  if ((await headObject(name, key)) != null) {
    return true;
  } else {
    return false;
  }
};
exports.getObject = getObject = async function (name, key) {
  var error;
  try {
    return await AWS.S3.getObject({
      Bucket: name,
      Key: key
    });
  } catch (error1) {
    error = error1;
    rescueNotFound(error);
    return null;
  }
};
isS3Object = function (value) {
  return (0, _type.isObject)(value) && value.Body != null;
};
exports.streamObject = streamObject = (0, _generic.generic)({
  name: "streamObject"
});
(0, _generic.generic)(streamObject, isS3Object, _type.isString, function ({
  Body
}, encoding) {
  if (encoding === "binary") {
    return Body;
  } else {
    return new Promise(function (resolve, reject) {
      var output;
      Body.setEncoding(encoding);
      output = "";
      Body.on("data", function (chunk) {
        return output += chunk;
      });
      Body.on("error", function (error) {
        return reject(error);
      });
      return Body.on("end", function () {
        return resolve(output);
      });
    });
  }
});
(0, _generic.generic)(streamObject, isS3Object, function (object) {
  return streamObject(object, "utf8");
});
(0, _generic.generic)(streamObject, _type.isString, _type.isString, _type.isString, async function (name, key, encoding) {
  return streamObject(await getObject(name, key), encoding);
});
(0, _generic.generic)(streamObject, _type.isString, _type.isString, async function (name, key) {
  return streamObject(await getObject(name, key));
});
exports.putObject = putObject = function (parameters) {
  return AWS.S3.putObject(parameters);
};
exports.deleteObject = deleteObject = async function (name, key) {
  if (await hasObject(name, key)) {
    return await AWS.S3.deleteObject({
      Bucket: name,
      Key: key
    });
  }
};
exports.deleteObjects = deleteObjects = async function (name, keys) {
  var key;
  return await AWS.S3.deleteObjects({
    Bucket: name,
    Delete: {
      Objects: function () {
        var i, len, results;
        results = [];
        for (i = 0, len = keys.length; i < len; i++) {
          key = keys[i];
          results.push({
            Key: key
          });
        }
        return results;
      }(),
      Quiet: true
    }
  });
};
exports.listObjects = listObjects = async function (name, prefix, items = [], token) {
  var Contents, IsTruncated, NextContinuationToken, parameters;
  parameters = {
    Bucket: name,
    MaxKeys: 1000
  };
  if (token != null) {
    parameters.ContinuationToken = token;
  }
  if (prefix != null) {
    parameters.Prefix = prefix;
  }
  ({
    IsTruncated,
    Contents = [],
    NextContinuationToken
  } = await AWS.S3.listObjectsV2(parameters));
  if (IsTruncated) {
    items = items.concat(Contents);
    return await listObjects(name, prefix, items, NextContinuationToken);
  } else {
    return items.concat(Contents);
  }
};
exports.deleteDirectory = deleteDirectory = async function (name, prefix) {
  var batch, i, keys, len, object, ref, ref1, results;
  keys = [];
  ref = await listObjects(name, prefix);
  for (i = 0, len = ref.length; i < len; i++) {
    object = ref[i];
    keys.push(object.Key);
  }
  ref1 = (0, _helpers.partition)(1000, keys);
  results = [];
  for (batch of ref1) {
    if (batch.length > 0) {
      // Is this neccessary?
      results.push(await deleteObjects(name, batch));
    } else {
      results.push(void 0);
    }
  }
  return results;
};
exports.emptyBucket = emptyBucket = function (name) {
  return deleteDirectory(name);
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9idWNrZXQuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUEsRUFBQSxHQUFBLHVCQUFBLENBQUEsT0FBQTtBQUFBLElBQUEsUUFBQSxHQUFBLE9BQUE7QUFFQSxJQUFBLFFBQUEsR0FBQSxPQUFBO0FBQ0EsSUFBQSxLQUFBLEdBQUEsT0FBQTtBQUFBLFNBQUEseUJBQUEsV0FBQSxlQUFBLE9BQUEsa0NBQUEsaUJBQUEsT0FBQSxPQUFBLFFBQUEsZ0JBQUEsT0FBQSxPQUFBLFlBQUEsd0JBQUEsWUFBQSxDQUFBLFdBQUEsV0FBQSxXQUFBLEdBQUEsZ0JBQUEsR0FBQSxpQkFBQSxLQUFBLFdBQUE7QUFBQSxTQUFBLHdCQUFBLEdBQUEsRUFBQSxXQUFBLFNBQUEsV0FBQSxJQUFBLEdBQUEsSUFBQSxHQUFBLENBQUEsVUFBQSxXQUFBLEdBQUEsUUFBQSxHQUFBLG9CQUFBLEdBQUEsd0JBQUEsR0FBQSw0QkFBQSxPQUFBLEVBQUEsR0FBQSxVQUFBLEtBQUEsR0FBQSx3QkFBQSxDQUFBLFdBQUEsT0FBQSxLQUFBLElBQUEsS0FBQSxDQUFBLEdBQUEsQ0FBQSxHQUFBLFlBQUEsS0FBQSxDQUFBLEdBQUEsQ0FBQSxHQUFBLFNBQUEsTUFBQSxXQUFBLHFCQUFBLEdBQUEsTUFBQSxDQUFBLGNBQUEsSUFBQSxNQUFBLENBQUEsd0JBQUEsV0FBQSxHQUFBLElBQUEsR0FBQSxRQUFBLEdBQUEsa0JBQUEsTUFBQSxDQUFBLFNBQUEsQ0FBQSxjQUFBLENBQUEsSUFBQSxDQUFBLEdBQUEsRUFBQSxHQUFBLFNBQUEsSUFBQSxHQUFBLHFCQUFBLEdBQUEsTUFBQSxDQUFBLHdCQUFBLENBQUEsR0FBQSxFQUFBLEdBQUEsY0FBQSxJQUFBLEtBQUEsSUFBQSxDQUFBLEdBQUEsSUFBQSxJQUFBLENBQUEsR0FBQSxLQUFBLE1BQUEsQ0FBQSxjQUFBLENBQUEsTUFBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLFlBQUEsTUFBQSxDQUFBLEdBQUEsSUFBQSxHQUFBLENBQUEsR0FBQSxTQUFBLE1BQUEsQ0FBQSxPQUFBLEdBQUEsR0FBQSxNQUFBLEtBQUEsSUFBQSxLQUFBLENBQUEsR0FBQSxDQUFBLEdBQUEsRUFBQSxNQUFBLFlBQUEsTUFBQTtBQUhBLElBQUEsR0FBQSxFQUFBLFlBQUEsRUFBQSxxQkFBQSxFQUFBLGtCQUFBLEVBQUEsbUJBQUEsRUFBQSxlQUFBLEVBQUEsWUFBQSxFQUFBLGFBQUEsRUFBQSxXQUFBLEVBQUEsWUFBQSxFQUFBLGtCQUFBLEVBQUEsU0FBQSxFQUFBLFNBQUEsRUFBQSxTQUFBLEVBQUEsVUFBQSxFQUFBLFVBQUEsRUFBQSxXQUFBLEVBQUEsU0FBQSxFQUFBLGtCQUFBLEVBQUEsZUFBQSxFQUFBLGlCQUFBLEVBQUEsZ0JBQUEsRUFBQSxTQUFBLEVBQUEsY0FBQSxFQUFBLFlBQUE7QUFBQSxPQUFBLENBQUEsWUFBQSxHQUFBLFlBQUE7QUFBQSxPQUFBLENBQUEsU0FBQSxHQUFBLFNBQUE7QUFBQSxPQUFBLENBQUEsZ0JBQUEsR0FBQSxnQkFBQTtBQUFBLE9BQUEsQ0FBQSxpQkFBQSxHQUFBLGlCQUFBO0FBQUEsT0FBQSxDQUFBLGVBQUEsR0FBQSxlQUFBO0FBQUEsT0FBQSxDQUFBLGtCQUFBLEdBQUEsa0JBQUE7QUFBQSxPQUFBLENBQUEsU0FBQSxHQUFBLFNBQUE7QUFBQSxPQUFBLENBQUEsV0FBQSxHQUFBLFdBQUE7QUFBQSxPQUFBLENBQUEsVUFBQSxHQUFBLFVBQUE7QUFBQSxPQUFBLENBQUEsU0FBQSxHQUFBLFNBQUE7QUFBQSxPQUFBLENBQUEsU0FBQSxHQUFBLFNBQUE7QUFBQSxPQUFBLENBQUEsU0FBQSxHQUFBLFNBQUE7QUFBQSxPQUFBLENBQUEsa0JBQUEsR0FBQSxrQkFBQTtBQUFBLE9BQUEsQ0FBQSxZQUFBLEdBQUEsWUFBQTtBQUFBLE9BQUEsQ0FBQSxXQUFBLEdBQUEsV0FBQTtBQUFBLE9BQUEsQ0FBQSxhQUFBLEdBQUEsYUFBQTtBQUFBLE9BQUEsQ0FBQSxZQUFBLEdBQUEsWUFBQTtBQUFBLE9BQUEsQ0FB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QUEsR0FBQSxDQUFBLE1BQUEsRUFBQSxDQUFBLEdBQUEsR0FBQSxFQUFBLENBQUEsRUFBQSxFQUFBOztJQUNFLElBQUksQ0FBQyxJQUFMLENBQVUsTUFBTSxDQUFDLEdBQWpCLENBQUE7RUFERjtFQUdBLElBQUEsR0FBQSxJQUFBLGtCQUFBLEVBQUEsSUFBQSxFQUFBLElBQUEsQ0FBQTtFQUFBLE9BQUEsR0FBQSxFQUFBO0VBQUEsS0FBQSxLQUFBLElBQUEsSUFBQSxFQUFBO0lBQ0UsSUFBRyxLQUFLLENBQUMsTUFBTixHQUFlLENBQWxCLEVBQUE7TUFBQTtrQkFDRSxDQUFBLE1BQU0sYUFBQSxDQUFjLElBQWQsRUFBb0IsS0FBcEIsQ0FBTixDQURGO0tBQUEsTUFBQTswQkFBQTs7RUFERjs7QUFMZ0IsQ0FBQTtBQVNsQixPQUFBLENBQUEsV0FBQSxHQUFBLFdBQUEsR0FBYyxTQUFBLENBQUMsSUFBRCxFQUFBO1NBQVUsZUFBQSxDQUFnQixJQUFoQixDQUFBO0FBQVYsQ0FBQSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFMzIGZyb20gXCJAYXdzLXNkay9jbGllbnQtczNcIlxuaW1wb3J0IHsgbGlmdCwgcGFydGl0aW9uIH0gZnJvbSBcIi4vaGVscGVyc1wiXG5pbXBvcnQgeyBnZW5lcmljIH0gZnJvbSBcIkBkYXNoa2l0ZS9qb3kvZ2VuZXJpY1wiXG5pbXBvcnQgeyBpc1N0cmluZywgaXNPYmplY3QgfSBmcm9tIFwiQGRhc2hraXRlL2pveS90eXBlXCJcblxuXG5BV1MgPVxuICBTMzogbGlmdCBTM1xuXG5yZXNjdWVOb3RGb3VuZCA9IChlcnJvcikgLT5cbiAgY29kZSA9IGVycm9yPy4kcmVzcG9uc2U/LnN0YXR1c0NvZGUgPyBlcnJvci4kbWV0YWRhdGEuaHR0cFN0YXR1c0NvZGVcbiAgaWYgISAoIGNvZGUgaW4gWyA0MDMsIDQwNCBdIClcbiAgICB0aHJvdyBlcnJvclxuXG5oYXNCdWNrZXQgPSAobmFtZSkgLT5cbiAgdHJ5XG4gICAgYXdhaXQgQVdTLlMzLmhlYWRCdWNrZXQgQnVja2V0OiBuYW1lXG4gICAgdHJ1ZVxuICBjYXRjaCBlcnJvclxuICAgIGNvbnNvbGUuZXJyb3IgZXJyb3JcbiAgICByZXNjdWVOb3RGb3VuZCBlcnJvclxuICAgIGZhbHNlXG5cbmdldEJ1Y2tldEFSTiA9IChuYW1lKSAtPlxuICBcImFybjphd3M6czM6Ojoje25hbWV9XCJcblxucHV0QnVja2V0ID0gKG5hbWUpIC0+XG4gIGlmICEoIGF3YWl0IGhhc0J1Y2tldCBuYW1lIClcbiAgICBhd2FpdCBBV1MuUzMuY3JlYXRlQnVja2V0IEJ1Y2tldDogbmFtZVxuXG5kZWxldGVCdWNrZXQgPSAobmFtZSkgLT5cbiAgaWYgYXdhaXQgaGFzQnVja2V0IG5hbWVcbiAgICBhd2FpdCBBV1MuUzMuZGVsZXRlQnVja2V0IEJ1Y2tldDogbmFtZVxuXG5nZXRCdWNrZXRMaWZlY3ljbGUgPSAobmFtZSkgLT5cbiAgYXdhaXQgQVdTLlMzLmdldEJ1Y2tldExpZmVjeWNsZUNvbmZpZ3VyYXRpb24gQnVja2V0OiBuYW1lXG5cbnB1dEJ1Y2tldExpZmVjeWNsZSA9IChuYW1lLCBsaWZlY3ljbGUpIC0+XG4gIGF3YWl0IEFXUy5TMy5wdXRCdWNrZXRMaWZlY3ljbGVDb25maWd1cmF0aW9uIFxuICAgIEJ1Y2tldDogbmFtZVxuICAgIExpZmVjeWNsZUNvbmZpZ3VyYXRpb246IGxpZmVjeWNsZVxuXG5kZWxldGVCdWNrZXRMaWZlY3ljbGUgPSAobmFtZSkgLT5cbiAgYXdhaXQgQVdTLlMzLmRlbGV0ZUJ1Y2tldExpZmVjeWNsZSBCdWNrZXQ6IG5hbWVcblxucHV0QnVja2V0UG9saWN5ID0gKCBuYW1lLCBwb2xpY3kgKSAtPlxuICBBV1MuUzMucHV0QnVja2V0UG9saWN5XG4gICAgQnVja2V0OiBuYW1lXG4gICAgUG9saWN5OiBKU09OLnN0cmluZ2lmeSBwb2xpY3lcblxuZGVsZXRlQnVja2V0UG9saWN5ID0gKCBuYW1lICkgLT5cbiAgQVdTLlMzLmRlbGV0ZUJ1Y2tldFBvbGljeSBCdWNrZXQ6IG5hbWVcblxucHV0QnVja2V0V2Vic2l0ZSA9ICggbmFtZSwgeyBpbmRleCwgZXJyb3IgfSkgLT5cbiAgQVdTLlMzLnB1dEJ1Y2tldFdlYnNpdGVcbiAgICBCdWNrZXQ6IG5hbWVcbiAgICBXZWJzaXRlQ29uZmlndXJhdGlvbjpcbiAgICAgIEluZGV4RG9jdW1lbnQ6IFN1ZmZpeDogaW5kZXhcbiAgICAgIEVycm9yRG9jdW1lbnQ6IEtleTogZXJyb3JcblxucHV0QnVja2V0UmVkaXJlY3QgPSAoIG5hbWUsIHRhcmdldCApIC0+XG4gIEFXUy5TMy5wdXRCdWNrZXRXZWJzaXRlXG4gICAgQnVja2V0OiBuYW1lXG4gICAgV2Vic2l0ZUNvbmZpZ3VyYXRpb246XG4gICAgICBSZWRpcmVjdEFsbFJlcXVlc3RzVG86XG4gICAgICAgIEhvc3ROYW1lOiB0YXJnZXRcblxuZGVsZXRlQnVja2V0V2Vic2l0ZSA9ICggbmFtZSApIC0+XG4gIEFXUy5TMy5kZWxldGVCdWNrZXRXZWJzaXRlIEJ1Y2tldDogbmFtZVxuXG5cbmhlYWRPYmplY3QgPSAobmFtZSwga2V5KSAtPlxuICB0cnlcbiAgICBhd2FpdCBBV1MuUzMuaGVhZE9iamVjdCBCdWNrZXQ6IG5hbWUsIEtleToga2V5XG4gIGNhdGNoIGVycm9yXG4gICAgcmVzY3VlTm90Rm91bmQgZXJyb3JcbiAgICBudWxsXG5cbmhhc09iamVjdCA9IChuYW1lLCBrZXkpIC0+XG4gIGlmICggYXdhaXQgaGVhZE9iamVjdCBuYW1lLCBrZXkgKT8gdGhlbiB0cnVlIGVsc2UgZmFsc2VcblxuZ2V0T2JqZWN0ID0gKCBuYW1lLCBrZXkgKSAtPlxuICB0cnlcbiAgICBhd2FpdCBBV1MuUzMuZ2V0T2JqZWN0IEJ1Y2tldDogbmFtZSwgS2V5OiBrZXlcbiAgY2F0Y2ggZXJyb3JcbiAgICByZXNjdWVOb3RGb3VuZCBlcnJvclxuICAgIG51bGxcblxuaXNTM09iamVjdCA9ICh2YWx1ZSkgLT4gKCBpc09iamVjdCB2YWx1ZSApICYmIHZhbHVlLkJvZHk/XG5cbnN0cmVhbU9iamVjdCA9IGdlbmVyaWMgbmFtZTogXCJzdHJlYW1PYmplY3RcIlxuXG5nZW5lcmljIHN0cmVhbU9iamVjdCwgaXNTM09iamVjdCwgaXNTdHJpbmcsICggeyBCb2R5IH0sIGVuY29kaW5nICkgLT5cbiAgaWYgZW5jb2RpbmcgPT0gXCJiaW5hcnlcIlxuICAgIEJvZHlcbiAgZWxzZVxuICAgIG5ldyBQcm9taXNlIChyZXNvbHZlLCByZWplY3QpIC0+XG4gICAgICBCb2R5LnNldEVuY29kaW5nIGVuY29kaW5nXG4gICAgICBvdXRwdXQgPSBcIlwiXG4gICAgICBCb2R5Lm9uIFwiZGF0YVwiLCAoY2h1bmspIC0+IG91dHB1dCArPSBjaHVua1xuICAgICAgQm9keS5vbiBcImVycm9yXCIsIChlcnJvcikgLT4gcmVqZWN0IGVycm9yXG4gICAgICBCb2R5Lm9uIFwiZW5kXCIsIC0+IHJlc29sdmUgb3V0cHV0XG5cbmdlbmVyaWMgc3RyZWFtT2JqZWN0LCBpc1MzT2JqZWN0LCAoIG9iamVjdCApIC0+XG4gIHN0cmVhbU9iamVjdCBvYmplY3QsIFwidXRmOFwiXG5cbmdlbmVyaWMgc3RyZWFtT2JqZWN0LCBpc1N0cmluZywgaXNTdHJpbmcsIGlzU3RyaW5nLCAoIG5hbWUsIGtleSwgZW5jb2RpbmcgKSAtPlxuICBzdHJlYW1PYmplY3QgKCBhd2FpdCBnZXRPYmplY3QgbmFtZSwga2V5ICksIGVuY29kaW5nXG5cbmdlbmVyaWMgc3RyZWFtT2JqZWN0LCBpc1N0cmluZywgaXNTdHJpbmcsICggbmFtZSwga2V5ICkgLT5cbiAgc3RyZWFtT2JqZWN0IGF3YWl0IGdldE9iamVjdCBuYW1lLCBrZXlcblxucHV0T2JqZWN0ID0gKHBhcmFtZXRlcnMpIC0+XG4gIEFXUy5TMy5wdXRPYmplY3QgcGFyYW1ldGVyc1xuXG5kZWxldGVPYmplY3QgPSAobmFtZSwga2V5KSAtPlxuICBpZiBhd2FpdCBoYXNPYmplY3QgbmFtZSwga2V5XG4gICAgYXdhaXQgQVdTLlMzLmRlbGV0ZU9iamVjdCBCdWNrZXQ6IG5hbWUsIEtleToga2V5XG5cblxuZGVsZXRlT2JqZWN0cyA9IChuYW1lLCBrZXlzKSAtPlxuICBhd2FpdCBBV1MuUzMuZGVsZXRlT2JqZWN0c1xuICAgIEJ1Y2tldDogbmFtZVxuICAgIERlbGV0ZTpcbiAgICAgIE9iamVjdHM6ICggS2V5OiBrZXkgZm9yIGtleSBpbiBrZXlzIClcbiAgICAgIFF1aWV0OiB0cnVlXG5cblxubGlzdE9iamVjdHMgPSAobmFtZSwgcHJlZml4LCBpdGVtcz1bXSwgdG9rZW4pIC0+XG4gIHBhcmFtZXRlcnMgPSBcbiAgICBCdWNrZXQ6IG5hbWVcbiAgICBNYXhLZXlzOiAxMDAwXG4gIHBhcmFtZXRlcnMuQ29udGludWF0aW9uVG9rZW4gPSB0b2tlbiBpZiB0b2tlbj9cbiAgcGFyYW1ldGVycy5QcmVmaXggPSBwcmVmaXggaWYgcHJlZml4P1xuXG4gIHtcbiAgICBJc1RydW5jYXRlZFxuICAgIENvbnRlbnRzID0gW11cbiAgICBOZXh0Q29udGludWF0aW9uVG9rZW5cbiAgfSA9IGF3YWl0IEFXUy5TMy5saXN0T2JqZWN0c1YyIHBhcmFtZXRlcnNcbiAgXG4gIGlmIElzVHJ1bmNhdGVkXG4gICAgaXRlbXMgPSBpdGVtcy5jb25jYXQgQ29udGVudHNcbiAgICBhd2FpdCBsaXN0T2JqZWN0cyBuYW1lLCBwcmVmaXgsIGl0ZW1zLCBOZXh0Q29udGludWF0aW9uVG9rZW5cbiAgZWxzZVxuICAgIGl0ZW1zLmNvbmNhdCBDb250ZW50c1xuXG5kZWxldGVEaXJlY3RvcnkgPSAobmFtZSwgcHJlZml4KSAtPlxuICBrZXlzID0gW11cbiAgZm9yIG9iamVjdCBpbiAoIGF3YWl0IGxpc3RPYmplY3RzIG5hbWUsIHByZWZpeCApXG4gICAga2V5cy5wdXNoIG9iamVjdC5LZXlcbiAgXG4gIGZvciBiYXRjaCBmcm9tIHBhcnRpdGlvbiAxMDAwLCBrZXlzXG4gICAgaWYgYmF0Y2gubGVuZ3RoID4gMCAjIElzIHRoaXMgbmVjY2Vzc2FyeT9cbiAgICAgIGF3YWl0IGRlbGV0ZU9iamVjdHMgbmFtZSwgYmF0Y2hcblxuZW1wdHlCdWNrZXQgPSAobmFtZSkgLT4gZGVsZXRlRGlyZWN0b3J5IG5hbWVcblxuZXhwb3J0IHtcbiAgZ2V0QnVja2V0QVJOXG4gIGhhc0J1Y2tldFxuICBwdXRCdWNrZXRcbiAgZGVsZXRlQnVja2V0XG4gIGRlbGV0ZURpcmVjdG9yeVxuICBlbXB0eUJ1Y2tldFxuXG4gIGdldEJ1Y2tldExpZmVjeWNsZVxuICBwdXRCdWNrZXRMaWZlY3ljbGVcbiAgZGVsZXRlQnVja2V0TGlmZWN5Y2xlXG5cbiAgcHV0QnVja2V0UG9saWN5XG4gIGRlbGV0ZUJ1Y2tldFBvbGljeVxuXG4gIHB1dEJ1Y2tldFdlYnNpdGVcbiAgcHV0QnVja2V0UmVkaXJlY3RcbiAgZGVsZXRlQnVja2V0V2Vic2l0ZVxuXG4gIGhlYWRPYmplY3RcbiAgaGFzT2JqZWN0XG4gIGdldE9iamVjdFxuICBzdHJlYW1PYmplY3RcbiAgcHV0T2JqZWN0XG4gIGRlbGV0ZU9iamVjdFxuICBkZWxldGVPYmplY3RzXG4gIGxpc3RPYmplY3RzXG59Il0sInNvdXJjZVJvb3QiOiIifQ==
//# sourceURL=src/bucket.coffee