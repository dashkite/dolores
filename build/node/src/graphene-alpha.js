"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.waitCollection = exports.upsertCollection = exports.scan = exports.putItem = exports.publishCollection = exports.incrementItem = exports.getItem = exports.getDatabase = exports.getCollection = exports.deleteItem = exports.deleteDatabase = exports.deleteCollection = exports.createDatabase = exports.Item = void 0;
var _secrets = require("./secrets.js");
var Meta = _interopRequireWildcard(require("@dashkite/joy/metaclass"));
var Fn = _interopRequireWildcard(require("@dashkite/joy/function"));
var Time = _interopRequireWildcard(require("@dashkite/joy/time"));
var _nodeFetch = _interopRequireDefault(require("node-fetch"));
var _pandaSkyClient = _interopRequireDefault(require("panda-sky-client"));
var _mimeTypes = _interopRequireDefault(require("mime-types"));
function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
function _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== "function") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function (nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }
function _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || typeof obj !== "object" && typeof obj !== "function") { return { default: obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== "default" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj.default = obj; if (cache) { cache.set(obj, newObj); } return newObj; }
var Item, cache, createDatabase, createRequest, deleteCollection, deleteDatabase, deleteItem, getCollection, getContentType, getDatabase, getItem, h, incrementItem, publishCollection, putItem, scan, upsertCollection, waitCollection;
exports.waitCollection = waitCollection;
exports.upsertCollection = upsertCollection;
exports.scan = scan;
exports.putItem = putItem;
exports.publishCollection = publishCollection;
exports.incrementItem = incrementItem;
exports.getItem = getItem;
exports.getDatabase = getDatabase;
exports.getCollection = getCollection;
exports.deleteItem = deleteItem;
exports.deleteDatabase = deleteDatabase;
exports.deleteCollection = deleteCollection;
exports.createDatabase = createDatabase;
exports.Item = Item;
cache = {
  url: "https://graphene-alpha.dashkite.io",
  apiKey: null,
  client: null
};
h = {
  resource: Fn.curry(Fn.rtee(function (resource, context) {
    return context.resource = resource;
  })),
  method: Fn.curry(Fn.rtee(function (method, context) {
    return context.method = method;
  })),
  parameters: Fn.curry(Fn.rtee(function (parameters, context) {
    return context.parameters = parameters;
  })),
  content: Fn.curry(Fn.rtee(function (content, context) {
    return context.content = content;
  })),
  headers: Fn.curry(Fn.rtee(function (headers, context) {
    if (context.headers == null) {
      context.headers = {};
    }
    return Object.assign(context.headers, headers);
  }))
};
createRequest = function (fx) {
  return {
    issue: async function () {
      var apiKey, body, client, context, headers, json, method, parameters, resource, response;
      apiKey = await async function () {
        return cache.apiKey != null ? cache.apiKey : cache.apiKey = await (0, _secrets.getSecret)("dashkite-api-key");
      }();
      client = await async function () {
        return cache.client != null ? cache.client : cache.client = await (0, _pandaSkyClient.default)(cache.url, {
          fetch: _nodeFetch.default,
          headers: {
            "x-api-key": apiKey
          }
        });
      }();
      context = Fn.pipe([function () {
        return {};
      }, ...fx, h.headers({
        "x-api-key": apiKey
      })])();
      ({
        resource,
        parameters,
        method,
        content: body,
        headers
      } = context);
      response = await client[resource](parameters)[method]({
        body,
        headers
      });
      if (response.status !== 204) {
        json = await response.json();
      }
      return {
        status: response.status,
        json: json
      };
    }
  };
};
getContentType = function (path) {
  var ref;
  return (ref = _mimeTypes.default.lookup(path)) != null ? ref : "application/octet-stream";
};
exports.Item = Item = function () {
  class Item {
    static create(_) {
      return Object.assign(new this(), {
        _
      });
    }
    toJSON() {
      return {
        database: this.database,
        collection: this.collection,
        key: this.key,
        content: this.content,
        created: this.created,
        updated: this.updated,
        expires: this.expires
      };
    }
  }
  ;
  Meta.mixin(Item.prototype, [Meta.getters({
    database: function () {
      return this._.database;
    },
    collection: function () {
      return this._.collection;
    },
    key: function () {
      return this._.key;
    },
    created: function () {
      return this._.created;
    },
    updated: function () {
      return this._.updated;
    },
    expires: function () {
      return this._.expires;
    },
    content: function () {
      return this._.content;
    },
    type: function () {
      return getContentType(this.key);
    }
  })]);
  return Item;
}.call(void 0);
exports.getItem = getItem = async function ({
  database,
  collection,
  key
}) {
  var error, request, response;
  request = createRequest([h.resource("item"), h.method("get"), h.parameters({
    database,
    collection,
    key
  })]);
  try {
    response = await request.issue();
    return Item.create(response.json);
  } catch (error1) {
    error = error1;
    if (error.status === 404) {
      return null;
    } else if (error.status != null) {
      throw new Error(`graphene: get failed with status ${error.status} for [ ${database} ][ ${collection} ][ ${key} ]`);
    } else {
      throw error;
    }
  }
};
exports.putItem = putItem = async function ({
  database,
  collection,
  key,
  content
}) {
  var error, item, request, response;
  item = Item.create({
    database,
    collection,
    key,
    content
  });
  request = createRequest([h.resource("item"), h.method("put"), h.parameters(item), h.content(item)]);
  try {
    response = await request.issue();
    return Item.create(response.json);
  } catch (error1) {
    error = error1;
    if (error.status != null) {
      throw new Error(`graphene: put failed with status ${error.status} for [ ${database} ][ ${collection} ][ ${key} ]`);
    } else {
      throw error;
    }
  }
};
exports.deleteItem = deleteItem = async function ({
  database,
  collection,
  key
}) {
  var error, request, response;
  request = createRequest([h.resource("item"), h.method("delete"), h.parameters({
    database,
    collection,
    key
  })]);
  try {
    response = await request.issue();
    return {
      itemDeleted: true
    };
  } catch (error1) {
    error = error1;
    if (error.status === 404) {
      return {
        itemDeleted: false
      };
    } else if (error.status != null) {
      throw new Error(`graphene: delete failed with status ${error.status} for [ ${database} ][ ${collection} ][ ${key} ]`);
    } else {
      throw error;
    }
  }
};
exports.scan = scan = async function ({
  database,
  collection,
  filter,
  token
}) {
  var _, error, request, response;
  _ = filter != null ? JSON.stringify(filter) : void 0;
  request = createRequest([h.resource("items"), h.method("get"), h.parameters({
    database,
    collection,
    filter: _,
    token
  })]);
  try {
    response = await request.issue();
    return {
      list: function () {
        var i, len, ref, results;
        ref = response.json.list;
        results = [];
        for (i = 0, len = ref.length; i < len; i++) {
          _ = ref[i];
          results.push(Item.create(_));
        }
        return results;
      }(),
      token: response.json.token
    };
  } catch (error1) {
    error = error1;
    if (error.status != null) {
      throw new Error(`graphene: scan failed with status ${error.status} for [ ${database} ][ ${collection} ]`);
    } else {
      throw error;
    }
  }
};
exports.incrementItem = incrementItem = async function ({
  database,
  collection,
  key,
  increments
}) {
  var error, request;
  request = createRequest([h.resource("increment"), h.method("post"), h.parameters({
    database,
    collection,
    key
  }), h.content({
    increments
  })]);
  try {
    return await request.issue();
  } catch (error1) {
    error = error1;
    if (error.status === 404) {
      return {
        itemDeleted: false
      };
    } else if (error.status != null) {
      throw new Error(`graphene: item increment failed with status ${error.status} for [ ${database} ][ ${collection} ][ ${key} ]`);
    } else {
      throw error;
    }
  }
};
exports.createDatabase = createDatabase = async function ({
  name
}) {
  var error, request, response;
  request = createRequest([h.resource("databases"), h.method("post"), h.parameters({
    name
  })]);
  try {
    response = await request.issue();
    return response.json;
  } catch (error1) {
    error = error1;
    if (error.status != null) {
      throw new Error(`graphene: database creation failed with status ${error.status}`);
    } else {
      throw error;
    }
  }
};
exports.getDatabase = getDatabase = async function ({
  address
}) {
  var error, request, response;
  request = createRequest([h.resource("database"), h.method("get"), h.parameters({
    address
  })]);
  try {
    response = await request.issue();
    return response.json;
  } catch (error1) {
    error = error1;
    if (error.status === 404) {
      return null;
    } else if (error.status != null) {
      throw new Error(`graphene: database get failed with status ${error.status} for [ ${address} ]`);
    } else {
      throw error;
    }
  }
};
exports.deleteDatabase = deleteDatabase = async function ({
  address
}) {
  var error, request;
  request = createRequest([h.resource("database"), h.method("delete"), h.parameters({
    address
  })]);
  try {
    await request.issue();
    return {
      databaseDeleted: true
    };
  } catch (error1) {
    error = error1;
    if (error.status === 404) {
      return {
        databaseDeleted: false
      };
    } else if (error.status != null) {
      throw new Error(`graphene: database delete failed with status ${error.status} for [ ${address} ]`);
    } else {
      throw error;
    }
  }
};
exports.upsertCollection = upsertCollection = async function ({
  database,
  byname,
  name,
  views
}) {
  var error, request, response;
  request = createRequest([h.resource("collection"), h.method("post"), h.parameters({
    database,
    byname
  }), h.content({
    database,
    byname,
    name,
    views
  })]);
  try {
    response = await request.issue();
    return response.json;
  } catch (error1) {
    error = error1;
    if (error.status != null) {
      throw new Error(`graphene: collection post failed with status ${error.status} for [ ${database} ][ ${collection} ]`);
    } else {
      throw error;
    }
  }
};
exports.getCollection = getCollection = async function ({
  database,
  byname
}) {
  var error, request, response;
  request = createRequest([h.resource("collection"), h.method("get"), h.parameters({
    database,
    byname
  })]);
  try {
    response = await request.issue();
    return response.json;
  } catch (error1) {
    error = error1;
    if (error.status === 404) {
      return null;
    } else if (error.status != null) {
      throw new Error(`graphene: collection get failed with status ${error.status} for [ ${database} ][ ${byname} ]`);
    } else {
      throw error;
    }
  }
};
exports.deleteCollection = deleteCollection = async function ({
  database,
  byname
}) {
  var error, request;
  request = createRequest([h.resource("collection"), h.method("delete"), h.parameters({
    database,
    byname
  })]);
  try {
    await request.issue();
    return {
      collectionDeleted: true
    };
  } catch (error1) {
    error = error1;
    if (error.status === 404) {
      return {
        collectionDeleted: false
      };
    } else if (error.status != null) {
      throw new Error(`graphene: database delete failed with status ${error.status} for [ ${address} ]`);
    } else {
      throw error;
    }
  }
};
exports.waitCollection = waitCollection = async function ({
  database,
  byname
}) {
  var collection, count;
  collection = await getCollection({
    database,
    byname
  });
  count = 0;
  while (true) {
    if (count++ > 5) {
      throw new Error(`graphene: collection [ ${database} ][ ${byname} ] failed to stabilize`);
    } else if (collection == null) {
      throw new Error(`graphene: collection [ ${database} ][ ${byname} ] is not found`);
    } else if (collection.status !== "ready") {
      count++;
      await Time.sleep(5000);
    } else {
      return collection;
    }
  }
};
exports.publishCollection = publishCollection = async function ({
  database,
  byname,
  name,
  views
}) {
  await upsertCollection({
    database,
    byname,
    name,
    views
  });
  return await waitCollection({
    database,
    byname
  });
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9ncmFwaGVuZS1hbHBoYS5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUNBLElBQUEsSUFBQSxHQUFBLHVCQUFBLENBQUEsT0FBQTtBQUNBLElBQUEsRUFBQSxHQUFBLHVCQUFBLENBQUEsT0FBQTtBQUNBLElBQUEsSUFBQSxHQUFBLHVCQUFBLENBQUEsT0FBQTtBQUNBLElBQUEsVUFBQSxHQUFBLHNCQUFBLENBQUEsT0FBQTtBQUNBLElBQUEsZUFBQSxHQUFBLHNCQUFBLENBQUEsT0FBQTtBQUNBLElBQUEsVUFBQSxHQUFBLHNCQUFBLENBQUEsT0FBQTtBQUFBLFNBQUEsdUJBQUEsR0FBQSxXQUFBLEdBQUEsSUFBQSxHQUFBLENBQUEsVUFBQSxHQUFBLEdBQUEsS0FBQSxPQUFBLEVBQUEsR0FBQTtBQUFBLFNBQUEseUJBQUEsV0FBQSxlQUFBLE9BQUEsa0NBQUEsaUJBQUEsT0FBQSxPQUFBLFFBQUEsZ0JBQUEsT0FBQSxPQUFBLFlBQUEsd0JBQUEsWUFBQSxDQUFBLFdBQUEsV0FBQSxXQUFBLEdBQUEsZ0JBQUEsR0FBQSxpQkFBQSxLQUFBLFdBQUE7QUFBQSxTQUFBLHdCQUFBLEdBQUEsRUFBQSxXQUFBLFNBQUEsV0FBQSxJQUFBLEdBQUEsSUFBQSxHQUFBLENBQUEsVUFBQSxXQUFBLEdBQUEsUUFBQSxHQUFBLG9CQUFBLEdBQUEsd0JBQUEsR0FBQSw0QkFBQSxPQUFBLEVBQUEsR0FBQSxVQUFBLEtBQUEsR0FBQSx3QkFBQSxDQUFBLFdBQUEsT0FBQSxLQUFBLElBQUEsS0FBQSxDQUFBLEdBQUEsQ0FBQSxHQUFBLFlBQUEsS0FBQSxDQUFBLEdBQUEsQ0FBQSxHQUFBLFNBQUEsTUFBQSxXQUFBLHFCQUFBLEdBQUEsTUFBQSxDQUFBLGNBQUEsSUFBQSxNQUFBLENBQUEsd0JBQUEsV0FBQSxHQUFBLElBQUEsR0FBQSxRQUFBLEdBQUEsa0JBQUEsTUFBQSxDQUFBLFNBQUEsQ0FBQSxjQUFBLENBQUEsSUFBQSxDQUFBLEdBQUEsRUFBQSxHQUFBLFNBQUEsSUFBQSxHQUFBLHFCQUFBLEdBQUEsTUFBQSxDQUFBLHdCQUFBLENBQUEsR0FBQSxFQUFBLEdBQUEsY0FBQSxJQUFBLEtBQUEsSUFBQSxDQUFBLEdBQUEsSUFBQSxJQUFBLENBQUEsR0FBQSxLQUFBLE1BQUEsQ0FBQSxjQUFBLENBQUEsTUFBQSxFQUFBLEdBQUEsRUFBQSxJQUFBLFlBQUEsTUFBQSxDQUFBLEdBQUEsSUFBQSxHQUFBLENBQUEsR0FBQSxTQUFBLE1BQUEsQ0FBQSxPQUFBLEdBQUEsR0FBQSxNQUFBLEtBQUEsSUFBQSxLQUFBLENBQUEsR0FBQSxDQUFBLEdBQUEsRUFBQSxNQUFBLFlBQUEsTUFBQTtBQU5BLElBQUEsSUFBQSxFQUFBLEtBQUEsRUFBQSxjQUFBLEVBQUEsYUFBQSxFQUFBLGdCQUFBLEVBQUEsY0FBQSxFQUFBLFVBQUEsRUFBQSxhQUFBLEVBQUEsY0FBQSxFQUFBLFdBQUEsRUFBQSxPQUFBLEVBQUEsQ0FBQSxFQUFBLGFBQUEsRUFBQSxpQkFBQSxFQUFBLE9BQUEsRUFBQSxJQUFBLEVBQUEsZ0JBQUEsRUFBQSxjQUFBO0FBQUEsT0FBQSxDQUFBLGNBQUEsR0FBQSxjQUFBO0FBQUEsT0FBQSxDQUFBLGdCQUFBLEdBQUEsZ0JBQUE7QUFBQSxPQUFBLENBQUEsSUFBQSxHQUFBLElBQUE7QUFBQSxPQUFBLENBQUEsT0FBQSxHQUFBLE9BQUE7QUFBQSxPQUFBLENBQUEsaUJBQUEsR0FBQSxpQkFBQTtBQUFBLE9BQUEsQ0FBQSxhQUFBLEdBQUEsYUFBQTtBQUFBLE9BQUEsQ0FBQSxPQUFBLEdBQUEsT0FBQTtBQUFBLE9BQUEsQ0FBQSxXQUFBLEdBQUEsV0FBQTtBQUFBLE9BQUEsQ0FBQSxhQUFBLEdBQUEsYUFBQTtBQUFBLE9BQUEsQ0FBQSxVQUFBLEdBQUEsVUFBQTtBQUFBLE9BQUEsQ0FBQSxjQUFBLEdBQUEsY0FBQTtBQUFBLE9BQUEsQ0FBQSxnQkFBQSxHQUFBLGdCQUFBO0FBQUEsT0FBQSxDQUFBLGNBQUEsR0FBQSxjQUFBO0FBQUEsT0FBQSxDQUFB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LENBRkg7S0FBQSxNQUFBO01BSUgsT0FBTyxVQUpKOztFQUxQO0FBSGUsQ0FBQTtBQWNqQixPQUFBLENBQUEsaUJBQUEsR0FBQSxpQkFBQSxHQUFvQixlQUFBLENBQUM7RUFBRSxRQUFGO0VBQVksTUFBWjtFQUFvQixJQUFwQjtFQUEwQjtBQUExQixDQUFELEVBQUE7RUFDbEIsTUFBTSxnQkFBQSxDQUFpQjtJQUFFLFFBQUY7SUFBWSxNQUFaO0lBQW9CLElBQXBCO0lBQTBCO0VBQTFCLENBQWpCLENBQUE7RUFDTixPQUFBLE1BQU0sY0FBQSxDQUFlO0lBQUUsUUFBRjtJQUFZO0VBQVosQ0FBZixDQUFOO0FBRmtCLENBQUEiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRTZWNyZXQgfSBmcm9tIFwiLi9zZWNyZXRzXCJcbmltcG9ydCAqIGFzIE1ldGEgZnJvbSBcIkBkYXNoa2l0ZS9qb3kvbWV0YWNsYXNzXCJcbmltcG9ydCAqIGFzIEZuIGZyb20gXCJAZGFzaGtpdGUvam95L2Z1bmN0aW9uXCJcbmltcG9ydCAqIGFzIFRpbWUgZnJvbSBcIkBkYXNoa2l0ZS9qb3kvdGltZVwiXG5pbXBvcnQgZmV0Y2ggZnJvbSBcIm5vZGUtZmV0Y2hcIlxuaW1wb3J0IGRpc2NvdmVyIGZyb20gXCJwYW5kYS1za3ktY2xpZW50XCJcbmltcG9ydCBNaW1lIGZyb20gXCJtaW1lLXR5cGVzXCJcblxuY2FjaGUgPVxuICB1cmw6IFwiaHR0cHM6Ly9ncmFwaGVuZS1hbHBoYS5kYXNoa2l0ZS5pb1wiXG4gIGFwaUtleTogbnVsbFxuICBjbGllbnQ6IG51bGxcblxuaCA9IFxuICByZXNvdXJjZTogRm4uY3VycnkgRm4ucnRlZSAocmVzb3VyY2UsIGNvbnRleHQpIC0+XG4gICAgY29udGV4dC5yZXNvdXJjZSA9IHJlc291cmNlXG5cbiAgbWV0aG9kOiBGbi5jdXJyeSBGbi5ydGVlIChtZXRob2QsIGNvbnRleHQpIC0+XG4gICAgY29udGV4dC5tZXRob2QgPSBtZXRob2QgXG5cbiAgcGFyYW1ldGVyczogRm4uY3VycnkgRm4ucnRlZSAocGFyYW1ldGVycywgY29udGV4dCkgLT5cbiAgICBjb250ZXh0LnBhcmFtZXRlcnMgPSBwYXJhbWV0ZXJzXG5cbiAgY29udGVudDogRm4uY3VycnkgRm4ucnRlZSAoY29udGVudCwgY29udGV4dCkgLT5cbiAgICBjb250ZXh0LmNvbnRlbnQgPSBjb250ZW50XG5cbiAgaGVhZGVyczogRm4uY3VycnkgRm4ucnRlZSAoaGVhZGVycywgY29udGV4dCkgLT5cbiAgICBjb250ZXh0LmhlYWRlcnMgPz0ge31cbiAgICBPYmplY3QuYXNzaWduIGNvbnRleHQuaGVhZGVycywgaGVhZGVyc1xuXG5jcmVhdGVSZXF1ZXN0ID0gKGZ4KSAtPlxuICBpc3N1ZTogLT5cbiAgICBhcGlLZXkgPSBhd2FpdCBkbyAtPiBcbiAgICAgIGNhY2hlLmFwaUtleSA/PSBhd2FpdCBnZXRTZWNyZXQgXCJkYXNoa2l0ZS1hcGkta2V5XCJcblxuICAgIGNsaWVudCA9IGF3YWl0IGRvIC0+XG4gICAgICBjYWNoZS5jbGllbnQgPz0gYXdhaXQgZGlzY292ZXIgY2FjaGUudXJsLCBcbiAgICAgICAgZmV0Y2g6IGZldGNoXG4gICAgICAgIGhlYWRlcnM6IFwieC1hcGkta2V5XCI6IGFwaUtleVxuXG4gICAgY29udGV4dCA9IGRvIEZuLnBpcGUgW1xuICAgICAgLT4ge31cbiAgICAgIGZ4Li4uXG4gICAgICBoLmhlYWRlcnMgXCJ4LWFwaS1rZXlcIjogYXBpS2V5XG4gICAgXVxuXG4gICAgeyByZXNvdXJjZSwgcGFyYW1ldGVycywgbWV0aG9kLCBjb250ZW50OmJvZHksIGhlYWRlcnMgfSA9IGNvbnRleHRcblxuICAgIHJlc3BvbnNlID0gYXdhaXQgY2xpZW50WyByZXNvdXJjZSBdKHBhcmFtZXRlcnMpW21ldGhvZF0oeyBib2R5LCBoZWFkZXJzIH0pXG5cbiAgICBpZiByZXNwb25zZS5zdGF0dXMgIT0gMjA0XG4gICAgICBqc29uID0gYXdhaXQgcmVzcG9uc2UuanNvbigpXG4gIFxuICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzXG4gICAganNvbjoganNvblxuXG5cbmdldENvbnRlbnRUeXBlID0gKHBhdGgpIC0+XG4gICggTWltZS5sb29rdXAgcGF0aCAgKSA/IFwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCJcblxuY2xhc3MgSXRlbVxuICBAY3JlYXRlOiAoXykgLT5cbiAgICBPYmplY3QuYXNzaWduIChuZXcgQCksIHsgXyB9XG5cbiAgTWV0YS5taXhpbiBAOjosIFtcbiAgICBNZXRhLmdldHRlcnNcbiAgICAgIGRhdGFiYXNlOiAtPiBAXy5kYXRhYmFzZVxuICAgICAgY29sbGVjdGlvbjogLT4gQF8uY29sbGVjdGlvblxuICAgICAga2V5OiAtPiBAXy5rZXlcbiAgICAgIGNyZWF0ZWQ6IC0+IEBfLmNyZWF0ZWRcbiAgICAgIHVwZGF0ZWQ6IC0+IEBfLnVwZGF0ZWRcbiAgICAgIGV4cGlyZXM6IC0+IEBfLmV4cGlyZXNcbiAgICAgIGNvbnRlbnQ6IC0+IEBfLmNvbnRlbnRcbiAgICAgIHR5cGU6IC0+IGdldENvbnRlbnRUeXBlIEBrZXlcbiAgXVxuXG4gIHRvSlNPTjogLT4geyBAZGF0YWJhc2UsIEBjb2xsZWN0aW9uLCBAa2V5LCBAY29udGVudCwgQGNyZWF0ZWQsIEB1cGRhdGVkLCBAZXhwaXJlcyB9XG4gICAgXG5cbmdldEl0ZW0gPSAoeyBkYXRhYmFzZSwgY29sbGVjdGlvbiwga2V5IH0pIC0+XG4gIHJlcXVlc3QgPSBjcmVhdGVSZXF1ZXN0IFtcbiAgICBoLnJlc291cmNlIFwiaXRlbVwiXG4gICAgaC5tZXRob2QgXCJnZXRcIlxuICAgIGgucGFyYW1ldGVycyB7IGRhdGFiYXNlLCBjb2xsZWN0aW9uLCBrZXkgfVxuICBdXG4gIHRyeVxuICAgIHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdC5pc3N1ZSgpXG4gICAgSXRlbS5jcmVhdGUgcmVzcG9uc2UuanNvblxuICBjYXRjaCBlcnJvclxuICAgIGlmIGVycm9yLnN0YXR1cyA9PSA0MDRcbiAgICAgIG51bGxcbiAgICBlbHNlIGlmIGVycm9yLnN0YXR1cz9cbiAgICAgIHRocm93IG5ldyBFcnJvciBcImdyYXBoZW5lOiBnZXQgZmFpbGVkIHdpdGggc3RhdHVzXG4gICAgICAgICN7IGVycm9yLnN0YXR1cyB9IGZvciBbICN7ZGF0YWJhc2V9IF1bICN7Y29sbGVjdGlvbn0gXVsgI3trZXl9IF1cIlxuICAgIGVsc2VcbiAgICAgIHRocm93IGVycm9yXG4gIFxucHV0SXRlbSA9ICh7IGRhdGFiYXNlLCBjb2xsZWN0aW9uLCBrZXksIGNvbnRlbnQgfSkgLT5cbiAgaXRlbSA9IEl0ZW0uY3JlYXRlIHsgZGF0YWJhc2UsIGNvbGxlY3Rpb24sIGtleSwgY29udGVudCB9XG4gIHJlcXVlc3QgPSBjcmVhdGVSZXF1ZXN0IFtcbiAgICBoLnJlc291cmNlIFwiaXRlbVwiXG4gICAgaC5tZXRob2QgXCJwdXRcIlxuICAgIGgucGFyYW1ldGVycyBpdGVtXG4gICAgaC5jb250ZW50IGl0ZW1cbiAgXVxuICB0cnlcbiAgICByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QuaXNzdWUoKVxuICAgIEl0ZW0uY3JlYXRlIHJlc3BvbnNlLmpzb25cbiAgY2F0Y2ggZXJyb3JcbiAgICBpZiBlcnJvci5zdGF0dXM/XG4gICAgICB0aHJvdyBuZXcgRXJyb3IgXCJncmFwaGVuZTogcHV0IGZhaWxlZCB3aXRoIHN0YXR1c1xuICAgICAgICAjeyBlcnJvci5zdGF0dXMgfSBmb3IgWyAje2RhdGFiYXNlfSBdWyAje2NvbGxlY3Rpb259IF1bICN7a2V5fSBdXCJcbiAgICBlbHNlXG4gICAgICB0aHJvdyBlcnJvclxuXG5kZWxldGVJdGVtID0gKHsgZGF0YWJhc2UsIGNvbGxlY3Rpb24sIGtleSB9KSAtPlxuICByZXF1ZXN0ID0gY3JlYXRlUmVxdWVzdCBbXG4gICAgaC5yZXNvdXJjZSBcIml0ZW1cIlxuICAgIGgubWV0aG9kIFwiZGVsZXRlXCJcbiAgICBoLnBhcmFtZXRlcnMgeyBkYXRhYmFzZSwgY29sbGVjdGlvbiwga2V5IH1cbiAgXVxuICB0cnlcbiAgICByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QuaXNzdWUoKVxuICAgIGl0ZW1EZWxldGVkOiB0cnVlXG4gIGNhdGNoIGVycm9yXG4gICAgaWYgZXJyb3Iuc3RhdHVzID09IDQwNFxuICAgICAgaXRlbURlbGV0ZWQ6IGZhbHNlXG4gICAgZWxzZSBpZiBlcnJvci5zdGF0dXM/XG4gICAgICB0aHJvdyBuZXcgRXJyb3IgXCJncmFwaGVuZTogZGVsZXRlIGZhaWxlZCB3aXRoIHN0YXR1c1xuICAgICAgICAjeyBlcnJvci5zdGF0dXMgfSBmb3IgWyAje2RhdGFiYXNlfSBdWyAje2NvbGxlY3Rpb259IF1bICN7a2V5fSBdXCJcbiAgICBlbHNlXG4gICAgICB0aHJvdyBlcnJvclxuXG5zY2FuID0gKHsgZGF0YWJhc2UsIGNvbGxlY3Rpb24sIGZpbHRlciwgdG9rZW4gfSkgLT5cbiAgXyA9IGlmIGZpbHRlcj8gdGhlbiBKU09OLnN0cmluZ2lmeSBmaWx0ZXJcblxuICByZXF1ZXN0ID0gY3JlYXRlUmVxdWVzdCBbXG4gICAgaC5yZXNvdXJjZSBcIml0ZW1zXCJcbiAgICBoLm1ldGhvZCBcImdldFwiXG4gICAgaC5wYXJhbWV0ZXJzIHsgZGF0YWJhc2UsIGNvbGxlY3Rpb24sIGZpbHRlcjogXywgdG9rZW4gfVxuICBdIFxuICB0cnlcbiAgICByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QuaXNzdWUoKVxuICAgIGxpc3Q6ICggKCBJdGVtLmNyZWF0ZSBfICkgZm9yIF8gaW4gcmVzcG9uc2UuanNvbi5saXN0IClcbiAgICB0b2tlbjogcmVzcG9uc2UuanNvbi50b2tlblxuICBjYXRjaCBlcnJvclxuICAgIGlmIGVycm9yLnN0YXR1cz9cbiAgICAgIHRocm93IG5ldyBFcnJvciBcImdyYXBoZW5lOiBzY2FuIGZhaWxlZCB3aXRoIHN0YXR1c1xuICAgICAgICAjeyBlcnJvci5zdGF0dXMgfSBmb3IgWyAje2RhdGFiYXNlfSBdWyAje2NvbGxlY3Rpb259IF1cIlxuICAgIGVsc2VcbiAgICAgIHRocm93IGVycm9yXG5cbmluY3JlbWVudEl0ZW0gPSAoeyBkYXRhYmFzZSwgY29sbGVjdGlvbiwga2V5LCBpbmNyZW1lbnRzIH0pIC0+XG4gIHJlcXVlc3QgPSBjcmVhdGVSZXF1ZXN0IFtcbiAgICBoLnJlc291cmNlIFwiaW5jcmVtZW50XCJcbiAgICBoLm1ldGhvZCBcInBvc3RcIlxuICAgIGgucGFyYW1ldGVycyB7IGRhdGFiYXNlLCBjb2xsZWN0aW9uLCBrZXkgfVxuICAgIGguY29udGVudCB7IGluY3JlbWVudHMgfVxuICBdXG4gIHRyeVxuICAgIGF3YWl0IHJlcXVlc3QuaXNzdWUoKVxuICBjYXRjaCBlcnJvclxuICAgIGlmIGVycm9yLnN0YXR1cyA9PSA0MDRcbiAgICAgIGl0ZW1EZWxldGVkOiBmYWxzZVxuICAgIGVsc2UgaWYgZXJyb3Iuc3RhdHVzP1xuICAgICAgdGhyb3cgbmV3IEVycm9yIFwiZ3JhcGhlbmU6IGl0ZW0gaW5jcmVtZW50IGZhaWxlZCB3aXRoIHN0YXR1c1xuICAgICAgICAjeyBlcnJvci5zdGF0dXMgfSBmb3IgWyAje2RhdGFiYXNlfSBdWyAje2NvbGxlY3Rpb259IF1bICN7a2V5fSBdXCJcbiAgICBlbHNlXG4gICAgICB0aHJvdyBlcnJvclxuXG5cbmNyZWF0ZURhdGFiYXNlID0gKHsgbmFtZSB9KSAtPlxuICByZXF1ZXN0ID0gY3JlYXRlUmVxdWVzdCBbXG4gICAgaC5yZXNvdXJjZSBcImRhdGFiYXNlc1wiXG4gICAgaC5tZXRob2QgXCJwb3N0XCJcbiAgICBoLnBhcmFtZXRlcnMgeyBuYW1lIH1cbiAgXVxuICB0cnlcbiAgICByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QuaXNzdWUoKVxuICAgIHJlc3BvbnNlLmpzb25cbiAgY2F0Y2ggZXJyb3JcbiAgICBpZiBlcnJvci5zdGF0dXM/XG4gICAgICB0aHJvdyBuZXcgRXJyb3IgXCJncmFwaGVuZTogZGF0YWJhc2UgY3JlYXRpb24gZmFpbGVkIHdpdGggc3RhdHVzXG4gICAgICAgICN7IGVycm9yLnN0YXR1cyB9XCJcbiAgICBlbHNlXG4gICAgICB0aHJvdyBlcnJvclxuXG5nZXREYXRhYmFzZSA9ICh7IGFkZHJlc3MgfSkgLT5cbiAgcmVxdWVzdCA9IGNyZWF0ZVJlcXVlc3QgW1xuICAgIGgucmVzb3VyY2UgXCJkYXRhYmFzZVwiXG4gICAgaC5tZXRob2QgXCJnZXRcIlxuICAgIGgucGFyYW1ldGVycyB7IGFkZHJlc3MgfVxuICBdXG4gIHRyeVxuICAgIHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdC5pc3N1ZSgpXG4gICAgcmVzcG9uc2UuanNvblxuICBjYXRjaCBlcnJvclxuICAgIGlmIGVycm9yLnN0YXR1cyA9PSA0MDRcbiAgICAgIG51bGxcbiAgICBlbHNlIGlmIGVycm9yLnN0YXR1cz9cbiAgICAgIHRocm93IG5ldyBFcnJvciBcImdyYXBoZW5lOiBkYXRhYmFzZSBnZXQgZmFpbGVkIHdpdGggc3RhdHVzXG4gICAgICAgICN7IGVycm9yLnN0YXR1cyB9IGZvciBbICN7YWRkcmVzc30gXVwiXG4gICAgZWxzZVxuICAgICAgdGhyb3cgZXJyb3JcblxuZGVsZXRlRGF0YWJhc2UgPSAoeyBhZGRyZXNzIH0pIC0+XG4gIHJlcXVlc3QgPSBjcmVhdGVSZXF1ZXN0IFtcbiAgICBoLnJlc291cmNlIFwiZGF0YWJhc2VcIlxuICAgIGgubWV0aG9kIFwiZGVsZXRlXCJcbiAgICBoLnBhcmFtZXRlcnMgeyBhZGRyZXNzIH1cbiAgXVxuICB0cnlcbiAgICBhd2FpdCByZXF1ZXN0Lmlzc3VlKClcbiAgICBkYXRhYmFzZURlbGV0ZWQ6IHRydWVcbiAgY2F0Y2ggZXJyb3JcbiAgICBpZiBlcnJvci5zdGF0dXMgPT0gNDA0XG4gICAgICBkYXRhYmFzZURlbGV0ZWQ6IGZhbHNlXG4gICAgZWxzZSBpZiBlcnJvci5zdGF0dXM/XG4gICAgICB0aHJvdyBuZXcgRXJyb3IgXCJncmFwaGVuZTogZGF0YWJhc2UgZGVsZXRlIGZhaWxlZCB3aXRoIHN0YXR1c1xuICAgICAgICAjeyBlcnJvci5zdGF0dXMgfSBmb3IgWyAje2FkZHJlc3N9IF1cIlxuICAgIGVsc2VcbiAgICAgIHRocm93IGVycm9yXG5cbnVwc2VydENvbGxlY3Rpb24gPSAoeyBkYXRhYmFzZSwgYnluYW1lLCBuYW1lLCB2aWV3cyB9KSAtPlxuICByZXF1ZXN0ID0gY3JlYXRlUmVxdWVzdCBbXG4gICAgaC5yZXNvdXJjZSBcImNvbGxlY3Rpb25cIlxuICAgIGgubWV0aG9kIFwicG9zdFwiXG4gICAgaC5wYXJhbWV0ZXJzIHsgZGF0YWJhc2UsIGJ5bmFtZSB9XG4gICAgaC5jb250ZW50IHsgZGF0YWJhc2UsIGJ5bmFtZSwgbmFtZSwgdmlld3MgfVxuICBdXG4gIHRyeVxuICAgIHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdC5pc3N1ZSgpXG4gICAgcmVzcG9uc2UuanNvblxuICBjYXRjaCBlcnJvclxuICAgIGlmIGVycm9yLnN0YXR1cz9cbiAgICAgIHRocm93IG5ldyBFcnJvciBcImdyYXBoZW5lOiBjb2xsZWN0aW9uIHBvc3QgZmFpbGVkIHdpdGggc3RhdHVzXG4gICAgICAgICN7IGVycm9yLnN0YXR1cyB9IGZvciBbICN7ZGF0YWJhc2V9IF1bICN7Y29sbGVjdGlvbn0gXVwiXG4gICAgZWxzZVxuICAgICAgdGhyb3cgZXJyb3JcbiAgXG5nZXRDb2xsZWN0aW9uID0gKHsgZGF0YWJhc2UsIGJ5bmFtZSB9KSAtPlxuICByZXF1ZXN0ID0gY3JlYXRlUmVxdWVzdCBbXG4gICAgaC5yZXNvdXJjZSBcImNvbGxlY3Rpb25cIlxuICAgIGgubWV0aG9kIFwiZ2V0XCJcbiAgICBoLnBhcmFtZXRlcnMgeyBkYXRhYmFzZSwgYnluYW1lIH1cbiAgXVxuICB0cnlcbiAgICByZXNwb25zZSA9IGF3YWl0IHJlcXVlc3QuaXNzdWUoKVxuICAgIHJlc3BvbnNlLmpzb25cbiAgY2F0Y2ggZXJyb3JcbiAgICBpZiBlcnJvci5zdGF0dXMgPT0gNDA0XG4gICAgICBudWxsXG4gICAgZWxzZSBpZiBlcnJvci5zdGF0dXM/XG4gICAgICB0aHJvdyBuZXcgRXJyb3IgXCJncmFwaGVuZTogY29sbGVjdGlvbiBnZXQgZmFpbGVkIHdpdGggc3RhdHVzXG4gICAgICAgICN7IGVycm9yLnN0YXR1cyB9IGZvciBbICN7ZGF0YWJhc2V9IF1bICN7YnluYW1lfSBdXCJcbiAgICBlbHNlXG4gICAgICB0aHJvdyBlcnJvclxuXG5kZWxldGVDb2xsZWN0aW9uID0gKHsgZGF0YWJhc2UsIGJ5bmFtZSB9KSAtPlxuICByZXF1ZXN0ID0gY3JlYXRlUmVxdWVzdCBbXG4gICAgaC5yZXNvdXJjZSBcImNvbGxlY3Rpb25cIlxuICAgIGgubWV0aG9kIFwiZGVsZXRlXCJcbiAgICBoLnBhcmFtZXRlcnMgeyBkYXRhYmFzZSwgYnluYW1lIH1cbiAgXVxuICB0cnlcbiAgICBhd2FpdCByZXF1ZXN0Lmlzc3VlKClcbiAgICBjb2xsZWN0aW9uRGVsZXRlZDogdHJ1ZVxuICBjYXRjaCBlcnJvclxuICAgIGlmIGVycm9yLnN0YXR1cyA9PSA0MDRcbiAgICAgIGNvbGxlY3Rpb25EZWxldGVkOiBmYWxzZVxuICAgIGVsc2UgaWYgZXJyb3Iuc3RhdHVzP1xuICAgICAgdGhyb3cgbmV3IEVycm9yIFwiZ3JhcGhlbmU6IGRhdGFiYXNlIGRlbGV0ZSBmYWlsZWQgd2l0aCBzdGF0dXNcbiAgICAgICAgI3sgZXJyb3Iuc3RhdHVzIH0gZm9yIFsgI3thZGRyZXNzfSBdXCJcbiAgICBlbHNlXG4gICAgICB0aHJvdyBlcnJvclxuXG53YWl0Q29sbGVjdGlvbiA9ICh7IGRhdGFiYXNlLCBieW5hbWUgfSkgLT5cbiAgY29sbGVjdGlvbiA9IGF3YWl0IGdldENvbGxlY3Rpb24geyBkYXRhYmFzZSwgYnluYW1lIH1cbiAgY291bnQgPSAwXG4gIHdoaWxlIHRydWVcbiAgICBpZiBjb3VudCsrID4gNVxuICAgICAgdGhyb3cgbmV3IEVycm9yIFwiZ3JhcGhlbmU6IGNvbGxlY3Rpb24gWyAje2RhdGFiYXNlfSBdWyAje2J5bmFtZX0gXSBmYWlsZWQgdG8gc3RhYmlsaXplXCJcbiAgICBlbHNlIGlmICFjb2xsZWN0aW9uP1xuICAgICAgdGhyb3cgbmV3IEVycm9yIFwiZ3JhcGhlbmU6IGNvbGxlY3Rpb24gWyAje2RhdGFiYXNlfSBdWyAje2J5bmFtZX0gXSBpcyBub3QgZm91bmRcIlxuICAgIGVsc2UgaWYgY29sbGVjdGlvbi5zdGF0dXMgIT0gXCJyZWFkeVwiXG4gICAgICBjb3VudCsrXG4gICAgICBhd2FpdCBUaW1lLnNsZWVwIDUwMDBcbiAgICBlbHNlXG4gICAgICByZXR1cm4gY29sbGVjdGlvblxuXG5wdWJsaXNoQ29sbGVjdGlvbiA9ICh7IGRhdGFiYXNlLCBieW5hbWUsIG5hbWUsIHZpZXdzIH0pIC0+XG4gIGF3YWl0IHVwc2VydENvbGxlY3Rpb24geyBkYXRhYmFzZSwgYnluYW1lLCBuYW1lLCB2aWV3cyB9XG4gIGF3YWl0IHdhaXRDb2xsZWN0aW9uIHsgZGF0YWJhc2UsIGJ5bmFtZSB9XG5cblxuICAgIFxuXG5leHBvcnQgeyBcbiAgSXRlbVxuICBnZXRJdGVtLCBwdXRJdGVtLCBkZWxldGVJdGVtLFxuICBzY2FuLCBpbmNyZW1lbnRJdGVtXG4gIGNyZWF0ZURhdGFiYXNlLCBnZXREYXRhYmFzZSwgZGVsZXRlRGF0YWJhc2VcbiAgdXBzZXJ0Q29sbGVjdGlvbiwgZ2V0Q29sbGVjdGlvbiwgZGVsZXRlQ29sbGVjdGlvbiwgd2FpdENvbGxlY3Rpb24sIHB1Ymxpc2hDb2xsZWN0aW9uXG59Il0sInNvdXJjZVJvb3QiOiIifQ==
//# sourceURL=src/graphene-alpha.coffee